# 学习笔记

## 1. 手势与动画 | 初步建立动画和时间线　

`requestAnimationFrame` 的含义是申请浏览器执行下一帧的时候，来执行代码。它与浏览器的帧率是相关的，如果浏览器做降帧降频的操作，它可能就跟着降帧

### 为什么不推荐使用　`setInterval`

会不可控，浏览器可能不会严格按照　`setInterval` 16 毫秒去执行。

另外一个，如果代码写地不好，`setInterval`　可能会发生积压，这要看浏览器低层所选择的策略。而使用　`requestAnimationFrame`　和　`setTimeout` 是相对安全的。

## 2. 手势与动画 | 设计时间线的更新


## 3. 手势与动画 | 给动画添加暂停和重启功能

## 6. 手势与动画 | 手势的基本知识

<<<<<<< HEAD
手指移动时，会允许一个较低的误差。一般使用 `10px` 来做为误差的容错范围。**10px** 是指在 Retina 屏上的  `10px`，如果是一位屏的话，就要改为  `5px`，如果是三位屏，就是 `15px`。

如果位移超过  `10px`，就会认为产生了 `pan` 事件，表示比较缓慢的触点的推移。

移动  `10px` 后会触发一个 pan start 事件，然后每一次 move 都会触发 pan 事件，也有的叫 pan move。它是一个持续性的事件，直到 pan end 事件。但是如果在 pan end 时，达到一定的速度，就可以认为是一个清扫的过程，叫 flick 事件，也叫 swipe。
=======
- tap：手指按下后，没有其它的任何操作抬起后，可以认为是一次点击事件，在手势中可以称作 tap。与 click 是比较相似的操作。
- pan：如果没有立即把手抬起来，发生了移动的事件。在识别上会允许一个较低的误差，使用 10px 作为误差的容错范围。10px 是指在 Retina 屏上的一个 10px，如果用一倍屏，就要改为 5px；如果是三倍屏的话，就是 15px。如果发生了大于这个值的移动，可以认为触发了一个 pan start 的事件，然后每一次 move 会触发一个 pan 事件，也有的叫 pan move 事件，这是一个表示比较缓慢的触点的推移。pan 事件是一个持续性事件，它有一个 start move end 这样的一个过程。**如果在 end 时达到一定的速度，可以认为触发了一次清扫的过程，叫 flick 事件，也叫 swipe 事件**
- press（长按）：一般超过 0.5s 按着不动，可以认为是长按事件，触发 press start。如果这时候移动的话，如移动 10px，就触发 pan start 事件。如果没有移动，手抬起后，会触发 press end 事件。


##　7. 手势与动画 | 实现鼠标操作

touch 事件的系列与　mouse 系统不一样，touch 事件一旦　start 之后触发 move，那么这个　move 事件与　start 事件一定是触发在同一个元素上，无论手的位置移动到哪里。所以不需要像　mouse 一样，在　mousedown 之后才去监听　mousemove。touch 事件的监听都在一起。

支持多点触屏的，可以通过　`event.changedTouches`　中的　`TouchList` 来查看。

`touchcancel` 与　`touchend` 的区别，cancel 表明手指　touch 点的序列，是以一个异常的模式去结束的。比如在　`touchmove` 时，弹出了一个　`alert` ，这时就是　`touchcancel`


## 8. 手势与动画 | 实现手势的逻辑


## 9. 手势与动画 | 处理鼠标事件

```javascript
element.addEventListener('mousedown', event => {

    /** 左键为 0，右键为 2，中键为 1，如果是多功能鼠标，可能会有 3，4 */
    console.log(event.button);

});
```

`mousemove` 里面是没有 `event.button` 这个值的，因为就算不按键，也可以 move。但是 `mousemove` 里面有 `event.button`，表示有哪些键被按下，它是使用二进制掩码来表示的。

- 0b11111：表示5个键都按下了
- 0b00001：只按了左键
- 0b00010：只按了右键
- 0b00011：左右键同时按下

> `mousemove` 与 `mousedown` 的中键与右键顺序是相反的

## 10. 手势与动画 | 派发事件

## 11. 手势与动画 | 实现一个flick事件

如果只判断两个点之间的速度，根据浏览器实现的不同，会有一个较大的误差。所以对速度的判断，要取数个点，再进行一个平均。要存储多个点的数据，做速度的平均和计算。

## 12. 手势与动画 | 封装

可以分成三部分，一个是 listen、一个是识别的部分，一个是最后的分发部分。
>>>>>>> 0ff92be1ed81fdd228f040f0d3da58962b1429c0
